#define thing1 typedef
#define thing2 struct { int __val[2]; }

thing1 thing2 __type_thing_3;

